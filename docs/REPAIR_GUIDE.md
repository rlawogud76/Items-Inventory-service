# 중간 제작품 연동 복구 가이드

## 문제 상황

재고 섹션에서 중간 제작품을 추가했을 때, 제작 섹션에 연동된 아이템이 생성되지 않아 "연동된 아이템을 찾을 수 없음" 오류가 발생하는 문제가 있었습니다.

## 해결 방법

### 1. 버그 수정 완료 ✅

`src/handlers/modalHandlers/manageModal.js` 파일이 수정되어, 이제 중간 제작품 추가 시 재고와 제작 양쪽에 모두 아이템이 생성됩니다.

### 2. 기존 데이터 복구 방법

이미 추가된 중간 제작품 중 연동이 깨진 아이템을 복구하려면:

#### 방법 1: Discord 봇 커맨드 사용 (권장)

1. 봇이 실행 중인 상태에서 Discord 서버에 접속
2. `/복구` 커맨드 실행
3. 자동으로 연동이 깨진 중간 제작품을 찾아서 복구합니다

#### 방법 2: 스크립트 직접 실행

봇이 실행 중이 아닐 때 사용:

```bash
node repair-intermediate-items.js
```

**주의**: MongoDB 서버가 실행 중이어야 하며, `.env` 파일에 `MONGODB_URI`가 설정되어 있어야 합니다.

## 복구 내용

복구 스크립트는 다음을 수행합니다:

1. **재고 → 제작 연동 복구**
   - 재고에 있는 중간 제작품이 제작 섹션에 없으면 자동 생성
   
2. **제작 → 재고 연동 복구**
   - 제작에 있는 중간 제작품이 재고 섹션에 없으면 자동 생성

3. **데이터 보존**
   - 기존 수량, 목표 수량, 이모지 등 모든 데이터 유지
   - 양방향 연동 정보 자동 설정

## 확인 방법

복구 후 다음을 확인하세요:

1. `/재고` 커맨드로 중간 제작품 확인
2. `/제작` 커맨드로 동일한 아이템이 있는지 확인
3. 수량 변경 시 양쪽이 모두 업데이트되는지 확인

## 문의

문제가 계속되면 로그를 확인하거나 개발자에게 문의하세요.
