# Discord Bot MCP Monitor 설정 가이드

## 개요
이 MCP 서버를 통해 Kiro가 Discord 봇의 실시간 상태를 모니터링할 수 있습니다.

## 설치

1. MCP SDK 설치:
```bash
npm install
```

2. MCP 서버 실행 권한 부여 (Linux/Mac):
```bash
chmod +x mcp-discord-monitor.js
```

## Kiro에서 사용하기

MCP 서버가 자동으로 설정되었습니다 (`.kiro/settings/mcp.json`).

Kiro를 재시작하면 다음 도구들을 사용할 수 있습니다:

### 1. 봇 상태 확인
```
봇 상태 확인해줘
```
- 온라인/오프라인 상태
- 연결된 서버 목록
- 멤버 수
- 핑(지연시간)

### 2. 최근 이벤트 조회
```
최근 Discord 이벤트 보여줘
```
- 최근 인터랙션 (버튼 클릭, 명령어 등)
- 메시지
- 에러

### 3. 서버 정보 조회
```
서버 정보 보여줘 (서버 ID: 1234567890)
```
- 채널 목록
- 멤버 수
- 서버 설정

### 4. 채널 메시지 조회
```
채널 메시지 보여줘 (채널 ID: 1234567890)
```
- 최근 메시지 내역
- 작성자 정보

## 사용 예시

### 디버깅
```
Kiro: 최근 에러 이벤트 보여줘
```
→ 봇에서 발생한 최근 에러 확인

### 모니터링
```
Kiro: 봇 상태와 최근 10개 인터랙션 보여줘
```
→ 봇이 정상 작동 중인지, 어떤 명령어가 실행되었는지 확인

### 문제 해결
```
Kiro: 최근 인터랙션 중 에러가 있는지 확인해줘
```
→ 사용자가 보고한 문제의 원인 파악

## 주의사항

1. **봇이 실행 중이어야 함**: MCP 서버는 Discord 봇과 함께 실행됩니다
2. **환경변수 필요**: `.env` 파일에 `DISCORD_TOKEN` 필수
3. **권한**: 봇이 접근할 수 있는 채널/서버만 조회 가능

## 문제 해결

### MCP 서버가 연결되지 않음
1. Kiro 재시작
2. `npm install` 실행 확인
3. `.kiro/settings/mcp.json` 파일 확인

### 봇 상태가 offline으로 표시됨
1. Discord 봇이 실행 중인지 확인 (`npm start`)
2. `.env` 파일의 `DISCORD_TOKEN` 확인
3. 봇 로그에서 "✅ Discord bot logged in" 메시지 확인

## 고급 사용

### 특정 타입의 이벤트만 조회
```javascript
// Kiro에게 요청
"최근 interaction 타입 이벤트만 5개 보여줘"
```

### 여러 서버 모니터링
```javascript
// 각 서버의 상태를 순차적으로 확인
"모든 연결된 서버 목록과 각 서버의 채널 수 알려줘"
```
